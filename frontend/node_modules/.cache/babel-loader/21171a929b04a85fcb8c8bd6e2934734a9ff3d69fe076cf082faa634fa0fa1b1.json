{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alepez\\\\CascadeProjects\\\\billing-system-webapp\\\\frontend\\\\frontend\\\\src\\\\PasswordResetForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PasswordResetForm({\n  token,\n  onBack\n}) {\n  _s();\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (password.length < 6) {\n      setError('Mot de passe trop court (min 6 caractères)');\n      return;\n    }\n    if (password !== confirm) {\n      setError('Les mots de passe ne correspondent pas');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const res = await fetch(`/api/password-reset/${token}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          password\n        })\n      });\n      if (!res.ok) throw new Error('Lien expiré ou invalide');\n      setSuccess(true);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (success) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 360,\n      margin: '60px auto',\n      background: '#222',\n      color: '#fff',\n      borderRadius: 8,\n      boxShadow: '0 2px 16px #000a',\n      padding: 32,\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Mot de passe r\\xE9initialis\\xE9 !\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '24px 0'\n      },\n      children: \"Vous pouvez maintenant vous connecter avec votre nouveau mot de passe.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onBack,\n      style: {\n        background: '#ffa500',\n        color: '#222',\n        fontWeight: 700,\n        border: 'none',\n        borderRadius: 4,\n        padding: '10px 24px'\n      },\n      children: \"Retour \\xE0 la connexion\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 360,\n      margin: '60px auto',\n      background: '#222',\n      color: '#fff',\n      borderRadius: 8,\n      boxShadow: '0 2px 16px #000a',\n      padding: 32\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"Nouveau mot de passe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Nouveau mot de passe\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true,\n          style: {\n            width: '100%',\n            padding: 8,\n            marginTop: 4,\n            marginBottom: 12,\n            borderRadius: 4,\n            border: '1px solid #888',\n            background: '#181818',\n            color: '#fff'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Confirmer le mot de passe\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: confirm,\n          onChange: e => setConfirm(e.target.value),\n          required: true,\n          style: {\n            width: '100%',\n            padding: 8,\n            marginTop: 4,\n            marginBottom: 12,\n            borderRadius: 4,\n            border: '1px solid #888',\n            background: '#181818',\n            color: '#fff'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#ffa500',\n          marginBottom: 8\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        style: {\n          width: '100%',\n          padding: 10,\n          background: '#ffa500',\n          color: '#222',\n          fontWeight: 700,\n          border: 'none',\n          borderRadius: 4,\n          marginTop: 8\n        },\n        children: loading ? 'Réinitialisation...' : 'Réinitialiser'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 18,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        style: {\n          background: 'none',\n          color: '#ffa500',\n          border: 'none',\n          cursor: 'pointer',\n          textDecoration: 'underline'\n        },\n        children: \"Retour\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(PasswordResetForm, \"HRDx6iqHNn4EhAHBL3xhoyFn5a4=\");\n_c = PasswordResetForm;\nvar _c;\n$RefreshReg$(_c, \"PasswordResetForm\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","PasswordResetForm","token","onBack","_s","password","setPassword","confirm","setConfirm","error","setError","success","setSuccess","loading","setLoading","handleSubmit","e","preventDefault","length","res","fetch","method","headers","body","JSON","stringify","ok","Error","err","message","style","maxWidth","margin","background","color","borderRadius","boxShadow","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fontWeight","border","onSubmit","type","value","onChange","target","required","width","marginTop","marginBottom","disabled","cursor","textDecoration","_c","$RefreshReg$"],"sources":["C:/Users/alepez/CascadeProjects/billing-system-webapp/frontend/frontend/src/PasswordResetForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nexport default function PasswordResetForm({ token, onBack }) {\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (password.length < 6) {\n      setError('Mot de passe trop court (min 6 caractères)');\n      return;\n    }\n    if (password !== confirm) {\n      setError('Les mots de passe ne correspondent pas');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const res = await fetch(`/api/password-reset/${token}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ password })\n      });\n      if (!res.ok) throw new Error('Lien expiré ou invalide');\n      setSuccess(true);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (success) return (\n    <div style={{ maxWidth: 360, margin: '60px auto', background: '#222', color: '#fff', borderRadius: 8, boxShadow: '0 2px 16px #000a', padding: 32, textAlign:'center' }}>\n      <h2>Mot de passe réinitialisé !</h2>\n      <div style={{margin:'24px 0'}}>Vous pouvez maintenant vous connecter avec votre nouveau mot de passe.</div>\n      <button onClick={onBack} style={{background:'#ffa500',color:'#222',fontWeight:700,border:'none',borderRadius:4,padding:'10px 24px'}}>Retour à la connexion</button>\n    </div>\n  );\n\n  return (\n    <div style={{ maxWidth: 360, margin: '60px auto', background: '#222', color: '#fff', borderRadius: 8, boxShadow: '0 2px 16px #000a', padding: 32 }}>\n      <h2 style={{textAlign:'center'}}>Nouveau mot de passe</h2>\n      <form onSubmit={handleSubmit}>\n        <label>Nouveau mot de passe<br/>\n          <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} required style={{width:'100%',padding:8,marginTop:4,marginBottom:12,borderRadius:4,border:'1px solid #888',background:'#181818',color:'#fff'}} />\n        </label>\n        <label>Confirmer le mot de passe<br/>\n          <input type=\"password\" value={confirm} onChange={e => setConfirm(e.target.value)} required style={{width:'100%',padding:8,marginTop:4,marginBottom:12,borderRadius:4,border:'1px solid #888',background:'#181818',color:'#fff'}} />\n        </label>\n        {error && <div style={{color:'#ffa500',marginBottom:8}}>{error}</div>}\n        <button type=\"submit\" disabled={loading} style={{width:'100%',padding:10,background:'#ffa500',color:'#222',fontWeight:700,border:'none',borderRadius:4,marginTop:8}}>\n          {loading ? 'Réinitialisation...' : 'Réinitialiser'}\n        </button>\n      </form>\n      <div style={{marginTop:18,textAlign:'center'}}>\n        <button onClick={onBack} style={{background:'none',color:'#ffa500',border:'none',cursor:'pointer',textDecoration:'underline'}}>Retour</button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
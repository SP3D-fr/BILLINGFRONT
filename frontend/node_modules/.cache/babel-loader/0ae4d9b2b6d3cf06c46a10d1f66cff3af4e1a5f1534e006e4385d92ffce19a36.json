{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alepez\\\\CascadeProjects\\\\billing-system-webapp\\\\frontend\\\\frontend\\\\src\\\\StatsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useTheme } from './ThemeContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StatsPage() {\n  _s();\n  const theme = useTheme();\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetch('http://localhost:5000/api/statistiques').then(res => res.json()).then(setStats).catch(err => setError(err.message)).finally(() => setLoading(false));\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: theme.text\n    },\n    children: \"Chargement des statistiques...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: theme.error\n    },\n    children: [\"Erreur : \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 21\n  }, this);\n  if (!stats) return null;\n  const cardStyle = {\n    background: theme.card,\n    color: theme.text,\n    borderRadius: 8,\n    boxShadow: theme.mode === 'dark' ? '0 2px 12px #2228' : '0 2px 8px #ccc5',\n    border: theme.mode === 'dark' ? '1px solid #333' : '1px solid #e0e0e0',\n    maxWidth: 700,\n    margin: '40px auto',\n    padding: 32\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: cardStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: theme.text\n      },\n      children: \"Statistiques avanc\\xE9es\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        fontSize: 18,\n        lineHeight: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Chiffre d'affaires total :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this), \" \", stats.total_ca.toFixed(2), \" \\u20AC\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Nombre de factures :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this), \" \", stats.nb_factures]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Factures pay\\xE9es :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), \" \", stats.nb_payees]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Factures impay\\xE9es :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this), \" \", stats.nb_impayees]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        color: theme.text\n      },\n      children: \"Top 3 clients\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n      children: stats.top_clients.map((c, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [c.nom, \" \\u2014 \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [c.ca.toFixed(2), \" \\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 33\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        color: theme.text\n      },\n      children: \"\\xC9volution mensuelle du CA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        height: 120,\n        gap: 8,\n        margin: '24px 0'\n      },\n      children: stats.evolution_mensuelle.map((mois, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#ffa500',\n            height: Math.max(10, mois.ca / (stats.total_ca / 2) * 100),\n            borderRadius: 4,\n            marginBottom: 4,\n            transition: 'height 0.5s'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 13\n          },\n          children: mois.mois\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(StatsPage, \"9Q6lGY0YNe/vcw+u67bugCBoq2k=\", false, function () {\n  return [useTheme];\n});\n_c = StatsPage;\nvar _c;\n$RefreshReg$(_c, \"StatsPage\");","map":{"version":3,"names":["React","useEffect","useState","useTheme","jsxDEV","_jsxDEV","StatsPage","_s","theme","stats","setStats","loading","setLoading","error","setError","fetch","then","res","json","catch","err","message","finally","style","color","text","children","fileName","_jsxFileName","lineNumber","columnNumber","cardStyle","background","card","borderRadius","boxShadow","mode","border","maxWidth","margin","padding","fontSize","lineHeight","total_ca","toFixed","nb_factures","nb_payees","nb_impayees","top_clients","map","c","i","nom","ca","display","alignItems","height","gap","evolution_mensuelle","mois","flex","textAlign","Math","max","marginBottom","transition","_c","$RefreshReg$"],"sources":["C:/Users/alepez/CascadeProjects/billing-system-webapp/frontend/frontend/src/StatsPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useTheme } from './ThemeContext';\n\nexport default function StatsPage() {\n  const theme = useTheme();\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetch('http://localhost:5000/api/statistiques')\n      .then(res => res.json())\n      .then(setStats)\n      .catch(err => setError(err.message))\n      .finally(() => setLoading(false));\n  }, []);\n\n  if (loading) return <div style={{color: theme.text}}>Chargement des statistiques...</div>;\n  if (error) return <div style={{ color: theme.error }}>Erreur : {error}</div>;\n  if (!stats) return null;\n\n  const cardStyle = {\n    background: theme.card,\n    color: theme.text,\n    borderRadius: 8,\n    boxShadow: theme.mode === 'dark' ? '0 2px 12px #2228' : '0 2px 8px #ccc5',\n    border: theme.mode === 'dark' ? '1px solid #333' : '1px solid #e0e0e0',\n    maxWidth: 700,\n    margin: '40px auto',\n    padding: 32\n  };\n\n  return (\n    <div style={cardStyle}>\n      <h2 style={{color: theme.text}}>Statistiques avancées</h2>\n      <ul style={{ fontSize: 18, lineHeight: 2 }}>\n        <li><b>Chiffre d'affaires total :</b> {stats.total_ca.toFixed(2)} €</li>\n        <li><b>Nombre de factures :</b> {stats.nb_factures}</li>\n        <li><b>Factures payées :</b> {stats.nb_payees}</li>\n        <li><b>Factures impayées :</b> {stats.nb_impayees}</li>\n      </ul>\n      <h3 style={{color: theme.text}}>Top 3 clients</h3>\n      <ol>\n        {stats.top_clients.map((c, i) => (\n          <li key={i}>{c.nom} — <b>{c.ca.toFixed(2)} €</b></li>\n        ))}\n      </ol>\n      <h3 style={{color: theme.text}}>Évolution mensuelle du CA</h3>\n      <div style={{ display: 'flex', alignItems: 'flex-end', height: 120, gap: 8, margin: '24px 0' }}>\n        {stats.evolution_mensuelle.map((mois, i) => (\n          <div key={i} style={{ flex: 1, textAlign: 'center' }}>\n            <div style={{ background: '#ffa500', height: Math.max(10, mois.ca / (stats.total_ca/2) * 100), borderRadius: 4, marginBottom: 4, transition: 'height 0.5s' }}></div>\n            <span style={{ fontSize: 13 }}>{mois.mois}</span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
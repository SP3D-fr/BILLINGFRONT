{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alepez\\\\CascadeProjects\\\\billing-system-webapp\\\\frontend\\\\frontend\\\\src\\\\StatsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StatsPage() {\n  _s();\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetch('http://localhost:5000/api/statistiques').then(res => res.json()).then(setStats).catch(err => setError(err.message)).finally(() => setLoading(false));\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Chargement des statistiques...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: 'red'\n    },\n    children: [\"Erreur : \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 21\n  }, this);\n  if (!stats) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 700,\n      margin: '0 auto',\n      padding: 32\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Statistiques avanc\\xE9es\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        fontSize: 18,\n        lineHeight: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Chiffre d'affaires total :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 13\n        }, this), \" \", stats.total_ca.toFixed(2), \" \\u20AC\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Nombre de factures :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 13\n        }, this), \" \", stats.nb_factures]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Factures pay\\xE9es :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 13\n        }, this), \" \", stats.nb_payees]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Factures impay\\xE9es :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 13\n        }, this), \" \", stats.nb_impayees]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Top 3 clients\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n      children: stats.top_clients.map((c, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [c.nom, \" \\u2014 \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [c.ca.toFixed(2), \" \\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 33\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\xC9volution mensuelle du CA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        height: 120,\n        gap: 8,\n        margin: '24px 0'\n      },\n      children: stats.evolution_mensuelle.map((mois, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#ffa500',\n            height: Math.max(10, mois.ca / (stats.total_ca / 2) * 100),\n            borderRadius: 4,\n            marginBottom: 4,\n            transition: 'height 0.5s'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 13\n          },\n          children: mois.mois\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}\n_s(StatsPage, \"wn5GnbEWSpy3babVhLIjrKhKWKg=\");\n_c = StatsPage;\nvar _c;\n$RefreshReg$(_c, \"StatsPage\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","StatsPage","_s","stats","setStats","loading","setLoading","error","setError","fetch","then","res","json","catch","err","message","finally","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","maxWidth","margin","padding","fontSize","lineHeight","total_ca","toFixed","nb_factures","nb_payees","nb_impayees","top_clients","map","c","i","nom","ca","display","alignItems","height","gap","evolution_mensuelle","mois","flex","textAlign","background","Math","max","borderRadius","marginBottom","transition","_c","$RefreshReg$"],"sources":["C:/Users/alepez/CascadeProjects/billing-system-webapp/frontend/frontend/src/StatsPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nexport default function StatsPage() {\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetch('http://localhost:5000/api/statistiques')\n      .then(res => res.json())\n      .then(setStats)\n      .catch(err => setError(err.message))\n      .finally(() => setLoading(false));\n  }, []);\n\n  if (loading) return <div>Chargement des statistiques...</div>;\n  if (error) return <div style={{ color: 'red' }}>Erreur : {error}</div>;\n  if (!stats) return null;\n\n  return (\n    <div style={{ maxWidth: 700, margin: '0 auto', padding: 32 }}>\n      <h2>Statistiques avancées</h2>\n      <ul style={{ fontSize: 18, lineHeight: 2 }}>\n        <li><b>Chiffre d'affaires total :</b> {stats.total_ca.toFixed(2)} €</li>\n        <li><b>Nombre de factures :</b> {stats.nb_factures}</li>\n        <li><b>Factures payées :</b> {stats.nb_payees}</li>\n        <li><b>Factures impayées :</b> {stats.nb_impayees}</li>\n      </ul>\n      <h3>Top 3 clients</h3>\n      <ol>\n        {stats.top_clients.map((c, i) => (\n          <li key={i}>{c.nom} — <b>{c.ca.toFixed(2)} €</b></li>\n        ))}\n      </ol>\n      <h3>Évolution mensuelle du CA</h3>\n      <div style={{ display: 'flex', alignItems: 'flex-end', height: 120, gap: 8, margin: '24px 0' }}>\n        {stats.evolution_mensuelle.map((mois, i) => (\n          <div key={i} style={{ flex: 1, textAlign: 'center' }}>\n            <div style={{ background: '#ffa500', height: Math.max(10, mois.ca / (stats.total_ca/2) * 100), borderRadius: 4, marginBottom: 4, transition: 'height 0.5s' }}></div>\n            <span style={{ fontSize: 13 }}>{mois.mois}</span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
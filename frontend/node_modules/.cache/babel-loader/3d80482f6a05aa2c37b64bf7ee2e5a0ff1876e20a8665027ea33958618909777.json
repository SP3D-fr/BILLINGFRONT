{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alepez\\\\CascadeProjects\\\\billing-system-webapp\\\\frontend\\\\frontend\\\\src\\\\SettingsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SettingsPage() {\n  _s();\n  const [settings, setSettings] = useState({\n    email: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    iban: \"\"\n  });\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    fetch(\"/api/settings\").then(res => res.json()).then(data => {\n      const newSettings = {\n        ...settings\n      };\n      data.forEach(item => {\n        if (item.key in newSettings) newSettings[item.key] = item.value;\n      });\n      setSettings(newSettings);\n      setLoading(false);\n    });\n  }, []);\n  const handleChange = e => {\n    setSettings({\n      ...settings,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    setMessage(\"\");\n    Promise.all(Object.entries(settings).map(([key, value]) => fetch(`/api/settings/${key}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        value\n      })\n    }))).then(() => setMessage(\"Paramètres enregistrés !\"));\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Chargement\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 500,\n      margin: \"40px auto\",\n      padding: 24,\n      background: \"#fff\",\n      borderRadius: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Param\\xE8tres de l'entreprise\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email :\", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          value: settings.email,\n          onChange: handleChange,\n          style: {\n            width: \"100%\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"T\\xE9l\\xE9phone :\", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"telephone\",\n          value: settings.telephone,\n          onChange: handleChange,\n          style: {\n            width: \"100%\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Adresse :\", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"adresse\",\n          value: settings.adresse,\n          onChange: handleChange,\n          style: {\n            width: \"100%\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"IBAN :\", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"iban\",\n          value: settings.iban,\n          onChange: handleChange,\n          style: {\n            width: \"100%\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Enregistrer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"green\",\n          marginTop: 10\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(SettingsPage, \"jMciQn1Djm+x6k8RM1kgROeqpfw=\");\n_c = SettingsPage;\nexport default SettingsPage;\nvar _c;\n$RefreshReg$(_c, \"SettingsPage\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","SettingsPage","_s","settings","setSettings","email","telephone","adresse","iban","loading","setLoading","message","setMessage","fetch","then","res","json","data","newSettings","forEach","item","key","value","handleChange","e","target","name","handleSubmit","preventDefault","Promise","all","Object","entries","map","method","headers","body","JSON","stringify","children","fileName","_jsxFileName","lineNumber","columnNumber","style","maxWidth","margin","padding","background","borderRadius","onSubmit","onChange","width","type","color","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/alepez/CascadeProjects/billing-system-webapp/frontend/frontend/src/SettingsPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nfunction SettingsPage() {\n  const [settings, setSettings] = useState({\n    email: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    iban: \"\",\n  });\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    fetch(\"/api/settings\")\n      .then((res) => res.json())\n      .then((data) => {\n        const newSettings = { ...settings };\n        data.forEach((item) => {\n          if (item.key in newSettings) newSettings[item.key] = item.value;\n        });\n        setSettings(newSettings);\n        setLoading(false);\n      });\n  }, []);\n\n  const handleChange = (e) => {\n    setSettings({ ...settings, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setMessage(\"\");\n    Promise.all(\n      Object.entries(settings).map(([key, value]) =>\n        fetch(`/api/settings/${key}`, {\n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ value }),\n        })\n      )\n    ).then(() => setMessage(\"Paramètres enregistrés !\"));\n  };\n\n  if (loading) return <div>Chargement…</div>;\n\n  return (\n    <div style={{ maxWidth: 500, margin: \"40px auto\", padding: 24, background: \"#fff\", borderRadius: 8 }}>\n      <h2>Paramètres de l'entreprise</h2>\n      <form onSubmit={handleSubmit}>\n        <label>Email :\n          <input name=\"email\" value={settings.email} onChange={handleChange} style={{ width: \"100%\" }} />\n        </label><br /><br />\n        <label>Téléphone :\n          <input name=\"telephone\" value={settings.telephone} onChange={handleChange} style={{ width: \"100%\" }} />\n        </label><br /><br />\n        <label>Adresse :\n          <input name=\"adresse\" value={settings.adresse} onChange={handleChange} style={{ width: \"100%\" }} />\n        </label><br /><br />\n        <label>IBAN :\n          <input name=\"iban\" value={settings.iban} onChange={handleChange} style={{ width: \"100%\" }} />\n        </label><br /><br />\n        <button type=\"submit\">Enregistrer</button>\n        {message && <div style={{ color: \"green\", marginTop: 10 }}>{message}</div>}\n      </form>\n    </div>\n  );\n}\n\nexport default SettingsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}